{"version":3,"sources":["Home/Home.jsx","Home/index.js","App.js","serviceWorker.js","i18n.js","index.js"],"names":["t","useTranslation","Home","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","goTab","event","goToTab","currentTarget","getAttribute","setState","currentTab","state","hasError","lang","URLSearchParams","document","location","search","get","products","deleted","imporved","i18n","changeLanguage","cardTemplate","forEach","product","i","push","react_default","a","createElement","className","key","src","photo","alt","label","buildCard","productsStore","improved","es","concat","id","onClick","PureComponent","App","src_Home","Boolean","window","hostname","match","use","LanguageDetector","init","resources","en","translations","TITLE","TEXT","IMPROVED","DELETED","fr","pt","fallbackLng","debug","ns","defaultNS","keySeparator","interpolation","escapeValue","formatSeparator","react","wait","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9937dbd8.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport './Home.scss';\nimport { useTranslation, Trans } from 'react-i18next';\nimport i18n from \"i18next\";\nimport productsStore from '../products.json';\n\nconst { t } = useTranslation();\n\nclass Home extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      currentTab: '0',\n      lang: new URLSearchParams(document.location.search).get(\"lang\") || 'fr',\n      products: {\n        deleted: [],\n        imporved: []\n      }\n    };\n    i18n.changeLanguage(this.state.lang);\n  }\n\n\n  goTab = (event) => {\n    const goToTab = event.currentTarget.getAttribute('id');\n    this.setState({ currentTab: goToTab });\n  }\n\n  buildCard(products) {\n    let cardTemplate = [];\n    products.forEach((product, i) => {\n      cardTemplate.push(\n        <div className=\"card\" key={i}>\n          <div className=\"image\"><img src={product.photo} alt=\"\" /></div>\n          <p>{product.label}</p>\n        </div>);\n    });\n\n    return cardTemplate;\n  }\n\n  render() {\n    let cardTemplate = [];\n    if (this.state.hasError) {\n      return <h1>Something went wrong.</h1>;\n    }\n    if (this.state.currentTab === '0') {\n      cardTemplate = this.buildCard(productsStore.improved);\n    } else {\n      cardTemplate = this.buildCard(productsStore.deleted);\n    };\n    return (\n      <div>\n        <h1><Trans>{t('TITLE')}</Trans></h1>\n        <p>\n          <Trans>{t('TEXT')}</Trans>\n        </p>\n\n        <div className={`tabs current-tab--${this.state.currentTab}`}>\n          <button id=\"0\" className={(this.state.currentTab === \"0\") ? 'active' : ''} onClick={this.goTab}><Trans>{t('IMPROVED')}</Trans></button>\n          <button id=\"1\" className={(this.state.currentTab === \"1\") ? 'active' : ''} onClick={this.goTab}><Trans>{t('DELETED')}</Trans></button>\n        </div>\n\n        <div className=\"cards\">{cardTemplate}</div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import Home from './Home';\n\nexport default Home;\n","import React from 'react';\nimport './App.scss';\nimport Home from './Home';\n\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\ni18n.use(LanguageDetector).init({\n  // we init with resources\n  resources: {\n    en: {\n      translations: {\n        TITLE: \"Quelle utilité ont tes avis produits ?\",\n        TEXT: \"(+) 300 produits Adeo et Leroy Merlin sont étudiés dont 68 déjà améliorés et 96 déréférencés !\",\n        IMPROVED: \"Améliorés\",\n        DELETED: \"Supprimés\"\n      }\n    },\n    fr: {\n      translations: {\n        TITLE: \"Quelle utilité ont tes avis produits ?\",\n        TEXT: \"(+) 300 produits Adeo et Leroy Merlin sont étudiés dont 68 déjà améliorés et 96 déréférencés !\",\n        IMPROVED: \"Améliorés\",\n        DELETED: \"Supprimés\"\n      }\n    },\n    pt: {\n      translations: {\n        TITLE: \"Quelle utilité ont tes avis produits ?\",\n        TEXT: \"(+) 300 produits Adeo et Leroy Merlin sont étudiés dont 68 déjà améliorés et 96 déréférencés !\",\n        IMPROVED: \"Améliorés\",\n        DELETED: \"Supprimés\"\n      }\n    }\n  },\n  fallbackLng: \"en\",\n  debug: true,\n\n  // have a common namespace used around the full app\n  ns: [\"translations\"],\n  defaultNS: \"translations\",\n\n  keySeparator: false, // we use content as keys\n\n  interpolation: {\n    escapeValue: false, // not needed for react!!\n    formatSeparator: \",\"\n  },\n\n  react: {\n    wait: true\n  }\n});\n\nexport default i18n;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { I18nextProvider } from \"react-i18next\";\nimport i18n from \"./i18n\";\n\nReactDOM.render(\n  <I18nextProvider i18n={i18n}>\n    <App />\n  </I18nextProvider>\n  , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}